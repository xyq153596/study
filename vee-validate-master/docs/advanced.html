<!DOCTYPE html><html lang="en"><head><link rel="apple-touch-icon" sizes="57x57" href="favico/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="favico/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="favico/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="favico/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="favico/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="favico/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="favico/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="favico/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="favico/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="favico/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="favico/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="favico/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="favico/favicon-16x16.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><meta name="theme-color" content="#41b883"><meta name="viewport" content="width=device-width, initial-scale=1"><meta property="og:title" content="Advanced | VeeValidate"><meta property="og:description" content="Advanced configs and tips for vee-validate"><meta property="og:image" content="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg"><meta name="description" content="Advanced configs and tips for vee-validate"><title>Advanced | VeeValidate</title><link href="/assets/css/bundle.css" rel="stylesheet"></head><body><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-100131478-1', 'auto');
ga('send', 'pageview');
</script><svg style="display: none;"><symbol id="github" viewbox="0 0 16 16"><path d="M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.09-.202-.36-1.015.07-2.117 0 0 .67-.215 2.2.82.64-.178 1.32-.266 2-.27.68.004 1.36.092 2 .27 1.52-1.035 2.19-.82 2.19-.82.43 1.102.16 1.915.08 2.117.51.56.82 1.274.82 2.147 0 3.073-1.87 3.75-3.65 3.947.28.24.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.14.46.55.38C13.71 14.53 16 11.53 16 8c0-4.418-3.582-8-8-8"></path></symbol><symbol id="i-star" viewbox="0 0 32 32"><path d="M16 2 L20 12 30 12 22 19 25 30 16 23 7 30 10 19 2 12 12 12 Z"></path></symbol><div class="columns is-mobile" id="app"><button :class="{ 'button': true, 'sidebar-button': true, 'is-open': sidebarToggle }" @click="sidebarToggle = ! sidebarToggle" type="button"><span class="icon"><i class="fa fa-bars"></i></span></button><div class="column is-2 sidebar-container" :class="{ 'column is-2 sidebar-container': true, 'is-open': sidebarToggle }" v-cloak><aside class="menu sidebar"><animated-button link="https://github.com/logaretm/vee-validate"><div class="flex-div" slot="default"><svg class="icon"><use xlink:href="#github"></use></svg>Star</div><div class="flex-div" slot="hover"><svg class="icon"><use xlink:href="#i-star"></use></svg>{{ stars }}</div></animated-button><p class="menu-label">Getting Started</p><ul class="menu-list"><li><a href="index.html#about">Introduction</a></li><li><a href="index.html#installation">Installation</a><ul><li><a href="index.html#npm">npm</a></li><li><a href="index.html#cdn">CDN</a></li></ul></li><li><a href="index.html#basic-example">Basic Example</a></li><li><a href="index.html#available-rules">Available Validations</a></li></ul><p class="menu-label">Validation</p><ul class="menu-list"><li><a href="validation.html#syntax">Syntax</a></li><li><a href="validation.html#available-rules">Available Rules</a></li><li><a href="validation.html#custom-rules">Custom Rules</a></li><li><a href="validation.html#flags">Flags</a></li></ul><p class="menu-label">Configuration</p><ul class="menu-list"><li><a href="configuration.html#configuration">Configuration</a></li><li><a href="configuration.html#custom-messages">Custom messages</a></li><li><a href="configuration.html#custom-attributes">Custom attributes</a></li><li><a href="configuration.html#field-sepecific-messages">Field-specific Custom Messages</a></li></ul><p class="menu-label">Localization</p><ul class="menu-list"><li><a href="localization.html#translation">Translation</a></li><li><a href="localization.html#attributes-data-vv-as">Attributes</a><ul><li><a href="localization.html#attributes-data-vv-as">alias</a></li><li><a href="localization.html#attributes-dictionary">dictionary</a></li></ul></li><li><a href="localization.html#localized-files">Localized Files</a></li></ul><p class="menu-label">API</p><ul class="menu-list"><li><a href="api.html#directive">v-validate</a></li><li><a href="api.html#data-attributes">data-* Attributes</a></li><li><a href="api.html#render-errors">Render Errors</a></li><li><a href="api.html#error-bag">Error Bag</a></li><li><a href="api.html#validator">Validator</a></li></ul><p class="menu-label">Advanced</p><ul class="menu-list"><li><a href="advanced.html#inject">Component Injections</a></li><li><a href="advanced.html#event-bus-example">Event bus example</a></li><li><a href="advanced.html#backend-example">Backend example</a></li></ul><p class="menu-label">Examples</p><ul class="menu-list"><li><a href="examples.html#debounce-example">Debounce</a></li><li><a href="examples.html#reject-example">Reject Files</a></li><li><a href="examples.html#validate-data-example">Validating Models</a></li><li><a href="examples.html#initial-value">Initial Value Validation</a></li><li><a href="examples.html#validate-form">Form Validation</a></li><li><a href="examples.html#locale-example">Localized Messages</a></li><li><a href="examples.html#scope-example">Validation Scopes</a></li><li><a href="examples.html#coupon-example">Custom Validation: Coupon</a></li><li><a href="examples.html#radio-buttons-example">Radio Buttons Validation</a></li><li><a href="examples.html#checkbox-example">Checkbox Example</a></li><li><a href="examples.html#flags-example">Validation Flags</a></li><li><a href="examples.html#selectors-example">Error Selectors</a></li></ul></aside></div><div class="column columns is-mobile main-container" @click="sidebarToggle = false"><div class="column is-12"><section class="hero"><div class="hero-body"><div class="container has-text-centered"><img width="150" alt="VeeValidate Logo" src="https://s3.eu-central-1.amazonaws.com/logaretm/vee-validate.svg"><h1 class="title is-2">Advanced </h1><h2 class="subtitle is-4">Advanced configs and tips for vee-validate</h2></div></div></section><div class="container"><div class="column content-container is-mobile"><h2><a href="#injection">Component Injections</a></h2>
<p>The default behavior for the plugin is to forcibly inject a validator instance for each component, which means each component has its own validator scope, that made sharing error messages between components relatively hard depending on your case.</p>
<p>You can rely on Vue's <a href="https://vuejs.org/v2/api/#provide-inject">Provide/Inject API</a> for this case, here is how it works:</p>
<p>By default the root Vue instance will be the only one to have a <code>Validator</code> instance, child components can further choose to either inject the parents tree validator or request a new one.</p>
<p>Here is how to request the parent's validator instance:</p>
<pre><code class="highlight-js">export default {
  inject: ['$validator'],
  // ...
};

export default {
  inject: {
    $validator: '$validator'
  },
  // ...
};
</code></pre>
<blockquote>
<p>If the first parent isn't able to provide a validator instance, the API will traverse the tree upwards looking for a parent that can.</p>
</blockquote>
<p>Here is how to request a new validator instance for the component by setting a <code>validator</code> property on the component's VeeValidate constructor options:</p>
<pre><code class="highlight-js">export default {
  // ...
  $_veeValidate: {
    validator: 'new' // give me a new validator each time.
  },
  // ...
};
</code></pre>
<p>You may also want to stop all automatic injections, and control when a component gets the ability to validate:</p>
<pre><code class="highlight-js">import Vue from 'vue';
import VeeValidate from 'vee-validate';

Vue.use(VeeValidate, { inject: false });
</code></pre>
<p>This will make the plugin stop instantiating a new validator for each component instance, excluding the root instance.</p>
<p>The <code>errorBag</code> and the <code>fields</code> objects will be also shared along with the validator, they will not be injected if the component does not have a validator instance.</p>
<blockquote>
<p>With SSR Frameworks like Nuxt, it is recommended to disable automatic injection since it may cause memory leaks due to all the validator instances being created for every component, which is not the intended behavior.</p>
</blockquote>
<h2><a href="#event-bus-example">Event Bus</a></h2>
<p>There are situations where you need to 'transfer' or communicate errors from child components to their parent and vice versa. Although this is not related to the plugin, the need is common enough to require an example.</p>
<p>This example uses Vue.js event bus to communicate errors with the parent component, the parent component can also clear, or force validate the child component. <a href="https://gist.github.com/sproogen/147d75db261505e8a558a7fd11a20551">Original example</a> was created by <a href="https://gist.github.com/sproogen">@sproogen</a>.</p>
<p>There is a better approach introduced by using the <a href="advanced.html#injection">Provide/Inject API</a>.</p>
<code-example><div slot="example"><event-bus-example></event-bus-example></div><div slot="js">import bus from './bus';
import ChildComponent from './EventBusChild.vue';

export default {
  name: 'event-bus-example',
  components: {
    ChildComponent
  },
  methods: {
    validateChild() {
      bus.$emit('validate');
    },
    clearChild() {
      bus.$emit('clear');
    }
  },
  created() {
    bus.$on('errors-changed', (errors) => {
      this.errors.clear();
      errors.forEach((e) => {
        this.errors.add(e.field, e.msg, e.rule, e.scope);
      });
    });
  }
};
</div><div slot="html">
&lt;div class=&quot;columns is-multiline&quot;&gt;
    &lt;child-component&gt;&lt;/child-component&gt;
    &lt;div class=&quot;column is-12&quot;&gt;
        &lt;button class=&quot;button is-info&quot; type=&quot;button&quot; @click=&quot;validateChild&quot;&gt;Validate Child&lt;/button&gt;
        &lt;button class=&quot;button is-danger&quot; type=&quot;button&quot; @click=&quot;clearChild&quot;&gt;Clear Child Errors&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;
</div></code-example><h2><a href="#backend-example">Backend Validation</a></h2>
<p>You might need to also use your Laravel/Express or whatever back-end as your validation provider for numerous reasons, like checking if an email is unique since it is hard to implement on the client-side, we can achieve this using a custom rule and the <code>reasoning</code> feature:</p>
<pre><code class="highlight-js">import axios from 'axios'; // great ajax library.
import { Validator } from 'vee-validate';

const isUnique = (value) =&gt; {
  return axios.post('/api/validate/email', { email: value }).then((response) =&gt; {
    // Notice that we return an object containing both a valid property and a data property.
    return {
      valid: response.data.valid,
      data: {
        message: response.data.message
      }
    };
  });
};

// The messages getter may also accept a third parameter that includes the data we returned earlier.
Validator.extend('unique', {
  validate: isUnique,
  getMessage: (field, params, data) =&gt; {
    return data.message;
  }
});
</code></pre>
<p>The following demo shows how it would work in action, note that it will only trigger if the user entered a valid email since the validator early exits upon first failure.</p>
<p>Since there is no real DB in this example, it's being simulated by a dynamic array.</p>
<code-example><div slot="example"><backend-example></backend-example></div><div slot="js">import { Validator } from 'vee-validate';

export default {
  name: 'backend-example',
  data: () => ({
    // simulate emails database
    emailsDB: [],
    email: null
  }),
  created() {
    // simulated DB.
    const isUnique = value => new Promise((resolve) => {
      setTimeout(() => {
        if (this.emailsDB.indexOf(value) === -1) {
          return resolve({
            valid: true
          });
        }

        return resolve({
          valid: false,
          data: {
            message: `${value} is already taken.`
          }
        });
      }, 200);
    });

    Validator.extend('unique', {
      validate: isUnique,
      getMessage: (field, params, data) => data.message
    });
  },
  methods: {
    submit() {
      this.emailsDB.push(this.email);
      this.email = '';
      this.$nextTick().then(() => {
        this.$validator.reset();
      });
    }
  }
};
</div><div slot="html">
&lt;div class=&quot;columns is-multiline&quot;&gt;
  &lt;div class=&quot;column is-12&quot;&gt;
    &lt;label class=&quot;label&quot;&gt;Email&lt;/label&gt;
    &lt;p class=&quot;control has-icon has-icon-right&quot;&gt;
        &lt;input name=&quot;email&quot; v-model=&quot;email&quot; v-validate=&quot;'required|email|unique'&quot; :class=&quot;{'input': true, 'is-danger': errors.has('email') }&quot; type=&quot;text&quot; placeholder=&quot;Email&quot;&gt;
        &lt;i v-show=&quot;errors.has('email')&quot; class=&quot;fa fa-warning&quot;&gt;&lt;/i&gt;
        &lt;span v-show=&quot;errors.has('email')&quot; class=&quot;help is-danger&quot;&gt;{{&quot;{&quot; + &quot;{ errors.first('email') }&quot; + &quot;}&quot;}}&lt;/span&gt;
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;div class=&quot;column is-12&quot;&gt;
    &lt;p class=&quot;control&quot;&gt;
      &lt;button class=&quot;button is-primary&quot; type=&quot;button&quot; @click=&quot;submit&quot;&gt;Submit&lt;/button&gt;
    &lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;
</div></code-example><h2><a href="#ctor">Component Constructor Options</a></h2>
<p>For your custom components that act as inputs you could customize the way the validator intereacts with your components, reducing greatly the number of needed attributes to make your component validatable.</p>
<p>You can use it by defining a <code>$_veeValidate</code> field in your component options definition:</p>
<pre><code class="highlight-js">export default {
  // ...
  $_veeValidate: {
    // fetch the current value from the innerValue defined in the component data.
    value () {
      return this.innerValue;
    }
  },
  data: () =&gt; ({
    innerValue: 'initial'
    // ...
  })
}
</code></pre>
<p>Aside from defining the <code>value</code> getter you can also define the following:</p>
<table class="table">
  <thead>
    <tr>
      <th>Property Name</th>
      <th>Type</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="is-method-name">name</td>
      <td>() => string</td>
      <td>undefined</td>
      <td>
        A function that returns the component name to be registered as in the validator, cannot be an arrow function because its context will be the component itself
      </td>
    </tr>
    <tr>
      <td class="is-method-name">value</td>
      <td>() => any</td>
      <td>undefined</td>
      <td>
        A function that returns the component current value, will be used by the validator when it needs to resolve the field value, like calling `validate` without passing a value.
      </td>
    </tr>
    <tr>
      <td class="is-method-name">rejectsFalse</td>
      <td>boolean</td>
      <td>false</td>
      <td>
        Defines `false` as an invalid value when the component is validated against the `required` rule.
      </td>
    </tr>
    <tr>
      <td class="is-method-name">validator</td>
      <td>string</td>
      <td><code>'inherit|new'</code></td>
      <td>
        Determines how the component get its validator instance, 'new' means it will always instantiate its own validator instance, 'inherit' means it will be injected by its parent using Provide/Inject API, the default is it will instantiate an instance unless it requests a `$validator` injection.
      </td>
    </tr>
    <tr>
      <td class="is-method-name">events</td>
      <td>string</td>
      <td><code>'input|blur'</code></td>
      <td>
        Pipe separated list of event names to validate when triggered
      </td>
    </tr>
  </tbody>
</table>
<p>These options allow you to configure your custom components behavior with vee-validate, check these examples here:</p>
<iframe src="https://codesandbox.io/embed/2wyrp5z000" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
</div></div></div></div></div></svg><script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script><script>Array.from(document.querySelectorAll('h2')).forEach(h => {
  h.classList.add('title');
  h.classList.add('is-4');
  var a = h.querySelector('a');
  if (a) {
    h.id = a.href.substr(a.href.indexOf('#') + 1);
  }
});
Array.from(document.querySelectorAll('h3')).forEach(h => {
  h.classList.add('title');
  h.classList.add('is-5');
  var a = h.querySelector('a');
  if (a) {
    h.id = a.href.substr(a.href.indexOf('#') + 1);
  }
});
if (location.hash) {
  var hash = location.hash;
  location.hash = '';
  location.hash = hash;
}</script><script type="text/javascript" src="/assets/js/vendor-d42023588987ba05504a.js"></script><script type="text/javascript" src="/assets/js/bundle-d42023588987ba05504a.js"></script></body></html>